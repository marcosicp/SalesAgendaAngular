<div class="add-margin flex flex-direction-column container">
  <div class="title">
    <h1>Usuarios</h1>
    <p>Editar usuarios listados abajo.</p>
  </div>

  <div class="add-margin">
    <button mat-raised-button (click)="addUserToggle()">Agregar Usuario</button>
  </div>

  <mat-card *ngIf="addUserActive" class="add-margin">
    <mat-card-title>Agregar Usuario</mat-card-title>
    <mat-card-content>
      <form class="form">
          <!-- Nombre -->
          <mat-form-field>
            <input matInput placeholder="Email:" type="email" value="Item 1" name="email" [(ngModel)]="newUserEmail">
          </mat-form-field>
          <!-- Precio -->
          <mat-form-field>
            <input matInput placeholder="Password:" type="password" name="password" [(ngModel)]="newUserPassword">
          </mat-form-field>
        </form>
    </mat-card-content>
    <mat-action-row class="new-item-action-row">
      <button mat-button (click)="userSignup()">Guardar</button>
      <button mat-button color="warn">Cancelar</button>
    </mat-action-row>
  </mat-card>

  <!-- List of users in database -->
  <mat-accordion class="add-margin">
    <!-- User Panel -->
    <mat-expansion-panel *ngFor="let user of users">
      <mat-expansion-panel-header>
        <mat-panel-title>{{user.nombre}}</mat-panel-title>
      </mat-expansion-panel-header>
      <!-- Edit form -->
      <form>
        <mat-form-field>
          <!-- <h3>Permissions</h3> -->
          <mat-select #admin placeholder="{{user.admin | parseUserRole }}">
            <mat-option *ngFor="let role of roles" [value]="role">
              {{role}}
            </mat-option>
          </mat-select>


        </mat-form-field>

      </form>
      <!-- Guardar/Borrar buttons -->
      <mat-action-row>
        <button mat-button (click)="updateUser(user._id , admin.value)">Guardar</button>
        <button mat-button color="warn">Borrar</button>
      </mat-action-row>
    </mat-expansion-panel>
  </mat-accordion>

</div>
